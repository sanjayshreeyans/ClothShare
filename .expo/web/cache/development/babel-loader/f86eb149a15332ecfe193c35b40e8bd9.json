{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\nimport { getExponentPushTokenAsync } from \"./ExponentNotificationsHelper.web\";\nimport { emitNotification } from \"./Notifications\";\n\nif (canUseDOM && 'serviceWorker' in navigator) {\n  navigator.serviceWorker.addEventListener('message', function (event) {\n    emitNotification(event.data);\n  });\n  navigator.serviceWorker.addEventListener('pushsubscriptionchange', function _callee(event) {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(getExponentPushTokenAsync());\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  });\n}","map":{"version":3,"mappings":";AAAA,SAASA,SAAT,QAA0B,+BAA1B;AAEA,SAASC,yBAAT;AACA,SAASC,gBAAT;;AAEA,IAAIF,SAAS,IAAI,mBAAmBG,SAApC,EAA+C;EAC7CA,SAAS,CAACC,aAAV,CAAwBC,gBAAxB,CAAyC,SAAzC,EAAoD,eAAK,EAAG;IAC1DH,gBAAgB,CAACI,KAAK,CAACC,IAAP,CAAhB;EACD,CAFD;EAIAJ,SAAS,CAACC,aAAV,CAAwBC,gBAAxB,CAAyC,wBAAzC,EAAmE,iBAAMC,KAAN;IAAA;MAAA;QAAA;UAAA;YAAA;YAAA,iCAE3DL,yBAAyB,EAFkC;;UAAA;UAAA;YAAA;QAAA;MAAA;IAAA;EAAA,CAAnE;AAID","names":["canUseDOM","getExponentPushTokenAsync","emitNotification","navigator","serviceWorker","addEventListener","event","data"],"sourceRoot":"","sources":["../../src/Notifications/ExponentNotifications.fx.web.ts"],"sourcesContent":["import { canUseDOM } from 'fbjs/lib/ExecutionEnvironment';\n\nimport { getExponentPushTokenAsync } from './ExponentNotificationsHelper.web';\nimport { emitNotification } from './Notifications';\n\nif (canUseDOM && 'serviceWorker' in navigator) {\n  navigator.serviceWorker.addEventListener('message', event => {\n    emitNotification(event.data);\n  });\n\n  navigator.serviceWorker.addEventListener('pushsubscriptionchange', async event => {\n    // Updates Expo token with new device token.\n    await getExponentPushTokenAsync();\n  });\n}\n"]},"metadata":{},"sourceType":"module"}