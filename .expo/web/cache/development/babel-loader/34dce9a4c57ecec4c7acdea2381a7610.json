{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as React from \"react\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { NavigatingContainer } from \"react-native-web/dist/index\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Constants from \"expo-constants\";\nimport { useFonts } from \"expo-font\";\nimport { initializeApp } from \"firebase/app\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport react from \"react\";\nimport { AppLoading } from \"expo\";\nimport { getAuth, onAuthStateChanged, FacebookAuthProvider, signInWithCredential, signInWithEmailAndPassword, createUserWithEmailAndPassword } from \"firebase/auth\";\nimport { getDatabase, ref, onValue, set, push } from \"firebase/database\";\nvar firebaseConfig = {\n  apiKey: \"AIzaSyDXRu2omq3p2KBfoj-0wj0iQ2kKnT60Jp8\",\n  authDomain: \"restroomsignout-bbcaf.firebaseapp.com\",\n  databaseURL: \"https://restroomsignout-bbcaf-default-rtdb.firebaseio.com\",\n  projectId: \"restroomsignout-bbcaf\",\n  storageBucket: \"restroomsignout-bbcaf.appspot.com\",\n  messagingSenderId: \"120464602127\",\n  appId: \"1:120464602127:web:721a35455fd0c431fbdf7a\",\n  measurementId: \"G-JTHT4M7KE0\"\n};\ninitializeApp(firebaseConfig);\nvar auth = getAuth();\nonAuthStateChanged(auth, function (user) {\n  if (user != null) {\n    console.log(\"We are authenticated now!\");\n  }\n});\n\nfunction storeHighScore(userId, score) {\n  var db = getDatabase();\n  var reference = ref(db, \"users/\" + userId);\n  set(reference, {\n    highscore: score\n  });\n}\n\nvar storeData = function storeData(value) {\n  return _regeneratorRuntime.async(function storeData$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.prev = 0;\n          _context.next = 3;\n          return _regeneratorRuntime.awrap(AsyncStorage.setItem('test', value));\n\n        case 3:\n          _context.next = 7;\n          break;\n\n        case 5:\n          _context.prev = 5;\n          _context.t0 = _context[\"catch\"](0);\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, [[0, 5]], Promise);\n};\n\nstoreData(\"TESTING\");\nconsole.log(\"TESTING completed\");\nexport default function LoginView(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState(),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      text = _React$useState2[0],\n      onChangeText = _React$useState2[1];\n\n  global.windowWidth = Dimensions.get(\"window\").width;\n  global.windowHeight = Dimensions.get(\"window\").height;\n  if (Platform.OS == \"ios\" || Platform.OS == \"android\") ;\n  {\n    console.log(\"IPHONE\");\n    global.img_style = styles.image2;\n    global.source = require(\"../phone_login.png\");\n  }\n\n  if (Platform.OS == \"web\") {\n    global.img_style = styles.image;\n    global.source = require(\"../back.png\");\n  }\n\n  var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      number = _React$useState4[0],\n      onChangeNumber = _React$useState4[1];\n\n  var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      errorLabel = _React$useState6[0],\n      onChangeWrong = _React$useState6[1];\n\n  var _React$useState7 = React.useState(global.source),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      img_source = _React$useState8[0],\n      setImgSource = _React$useState8[1];\n\n  var _useFonts = useFonts({\n    SignPainter: require(\"../assets/fonts/SignPainterHouseScript.ttf\")\n  }),\n      _useFonts2 = _slicedToArray(_useFonts, 1),\n      fontsLoaded = _useFonts2[0];\n\n  function LoginPage(email2, password2) {\n    console.log(email2, password2, \"Email and Password\");\n\n    if (Platform.OS == \"web\") {\n      email2 = \"javangulasa@bentonvillek12.org\";\n      password2 = \"Sanjay@123\";\n    }\n\n    var db = getDatabase();\n\n    if (email2 != null && password2 != null) {\n      var _auth = getAuth();\n\n      signInWithEmailAndPassword(_auth, email2, password2).then(function () {\n        onChangeWrong(\"\");\n        var starCountRef = ref(db, \"Users_Login\");\n        onValue(starCountRef, function (snapshot) {\n          var data = snapshot.val();\n\n          for (var i in data) {\n            if (email2 == data[i][\"email\"]) {\n              global.user_email = data[i][\"email\"];\n              console.log(\"The student's email: \", data[i][\"email\"]);\n              global.user_grade = data[i][\"Grade\"];\n              console.log(\"The student's grade: \", data[i][\"Grade\"]);\n              global.user_password = data[i][\"Password\"];\n              console.log(\"The student's password: \", data[i][\"Password\"]);\n              global.user_name = data[i][\"name\"];\n              console.log(\"The student's name: \", data[i][\"name\"]);\n              global.is_new_user = data[i][\"new_user\"];\n              console.log(\"If the user is a new user: \", data[i][\"new_user\"]);\n\n              if (global.user_grade == \"Teacher\") {\n                global.room_no = data[i][\"room_no\"];\n              }\n            }\n          }\n        });\n        console.log(\"User account created & signed in!\");\n        navigation.replace(\"HomeScreen\");\n      }).catch(function (error) {\n        onChangeWrong(error);\n        console.error(error);\n      });\n    } else {\n      onChangeWrong(\"Please fill in the fields and try again.\");\n      console.log(\"Please fill in the fields and try again\");\n    }\n  }\n\n  return React.createElement(ImageBackground, {\n    source: global.source,\n    resizeMode: \"cover\",\n    style: global.img_style\n  }, React.createElement(View, {\n    style: styles.overlay\n  }, React.createElement(Text, {\n    style: styles.paragraph\n  }, \"Swiftoff\"), React.createElement(TextInput, {\n    style: styles.input,\n    onChangeText: onChangeText,\n    placeholder: \"Email:\"\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    onChangeText: onChangeNumber,\n    placeholder: \"Password:\",\n    secureTextEntry: true,\n    autoComplete: \"true\"\n  }), React.createElement(View, {\n    style: styles.fixToText\n  }, React.createElement(TouchableOpacity, {\n    title: \"Log In\",\n    color: \"purple\",\n    onPress: function onPress() {\n      return LoginPage(text, number);\n    },\n    style: styles.roundButton1\n  }, React.createElement(Text, {\n    style: styles.roundButton13\n  }, \"Log In\"))), React.createElement(View, {\n    style: styles.fixToText\n  }, React.createElement(TouchableOpacity, {\n    title: \"Log In\",\n    color: \"blue\",\n    onPress: function onPress() {\n      return navigation.navigate(\"Signup\");\n    },\n    style: styles.roundButton2\n  }, React.createElement(Text, {\n    style: styles.roundButton14\n  }, \"Create an Account\")), React.createElement(TextInput, {\n    style: styles.input2,\n    onChangeText: onChangeWrong,\n    defaultValue: errorLabel,\n    editable: false,\n    selectTextOnFocus: false\n  }))));\n}\nvar styles = StyleSheet.create({\n  container: {\n    justifyContent: \"center\",\n    backgroundColor: \"white\"\n  },\n  container2: {\n    flex: 1,\n    zIndex: 1,\n    justifyContent: \"center\",\n    backgroundColor: \"white\",\n    padding: 0\n  },\n  paragraph: {\n    margin: 20,\n    fontSize: 70,\n    fontWeight: \"bold\",\n    textAlign: \"center\"\n  },\n  input: _objectSpread({}, Platform.select({\n    ios: {\n      height: 40,\n      margin: 12,\n      borderWidth: 1,\n      borderWidth: 1,\n      borderRadius: 15,\n      padding: 10,\n      width: 350,\n      alignSelf: \"center\"\n    },\n    android: {\n      height: 40,\n      margin: 12,\n      borderWidth: 1,\n      borderWidth: 1,\n      borderRadius: 15,\n      padding: 10,\n      width: 350\n    },\n    default: {\n      height: 40,\n      margin: 12,\n      borderWidth: 1,\n      borderWidth: 1,\n      borderRadius: 15,\n      padding: 10,\n      width: 400,\n      alignSelf: \"center\"\n    }\n  })),\n  fixToText: {\n    alignSelf: \"center\",\n    width: 200,\n    borderRadius: 15,\n    paddingTop: 20\n  },\n  roundButton1: {\n    width: 200,\n    height: 48,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    padding: 10,\n    borderRadius: 25,\n    backgroundColor: \"rgb(53,66,99)\"\n  },\n  roundButton2: {\n    width: 200,\n    height: 50,\n    paddingTop: 0,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    padding: 0,\n    borderRadius: 25,\n    backgroundColor: \"rgb(239,139,118)\"\n  },\n  roundButton13: {\n    fontSize: 20,\n    color: \"white\"\n  },\n  roundButton14: {\n    fontSize: 20,\n    color: \"white\"\n  },\n  input2: {\n    height: 40,\n    margin: 12,\n    borderWidth: 0,\n    borderWidth: 0,\n    borderRadius: 15,\n    padding: 10,\n    width: 400,\n    fontSize: 16,\n    textAlign: \"center\",\n    color: \"red\",\n    alignSelf: \"center\"\n  },\n  image2: {\n    width: global.windowWidth,\n    height: global.windowHeight,\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    flex: 1,\n    justifyContent: \"center\"\n  },\n  image: {\n    flex: 1,\n    justifyContent: \"center\"\n  },\n  overlay: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    opacity: 1,\n    padding: \"10\"\n  }\n});","map":{"version":3,"sources":["/Users/sanjayshreeyansgmail.com/Documents/Dev/react_egress-master 4/Screens/LoginScreen.js"],"names":["React","NavigatingContainer","Constants","useFonts","initializeApp","AsyncStorage","react","AppLoading","getAuth","onAuthStateChanged","FacebookAuthProvider","signInWithCredential","signInWithEmailAndPassword","createUserWithEmailAndPassword","getDatabase","ref","onValue","set","push","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","user","console","log","storeHighScore","userId","score","db","reference","highscore","storeData","value","setItem","LoginView","navigation","useState","text","onChangeText","global","windowWidth","Dimensions","get","width","windowHeight","height","Platform","OS","img_style","styles","image2","source","require","image","number","onChangeNumber","errorLabel","onChangeWrong","img_source","setImgSource","SignPainter","fontsLoaded","LoginPage","email2","password2","then","starCountRef","snapshot","data","val","i","user_email","user_grade","user_password","user_name","is_new_user","room_no","replace","catch","error","overlay","paragraph","input","fixToText","roundButton1","roundButton13","navigate","roundButton2","roundButton14","input2","StyleSheet","create","container","justifyContent","backgroundColor","container2","flex","zIndex","padding","margin","fontSize","fontWeight","textAlign","select","ios","borderWidth","borderRadius","alignSelf","android","default","paddingTop","alignItems","color","position","top","right","bottom","left","opacity"],"mappings":"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","sourcesContent":["import * as React from \"react\";\nimport {\n  Text,\n  View,\n  StyleSheet,\n  TextInput,\n  Button,\n  TouchableOpacity,\n  Platform,\n  NavigatingContainer,\n  ImageBackground,\n} from \"react-native\";\nimport { Dimensions } from \"react-native\";\nimport Constants from \"expo-constants\";\nimport { useFonts } from \"expo-font\";\nimport { initializeApp } from \"firebase/app\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport react from \"react\";\n\nimport { AppLoading } from \"expo\";\n\n// Optionally import the services that you want to use\nimport {\n  getAuth,\n  onAuthStateChanged,\n  FacebookAuthProvider,\n  signInWithCredential,\n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n} from \"firebase/auth\";\n\n//import {...} from \"firebase/firestore\";\n//import {...} from \"firebase/functions\";\n//import {...} from \"firebase/storage\";\n\nimport { getDatabase, ref, onValue, set, push } from \"firebase/database\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDXRu2omq3p2KBfoj-0wj0iQ2kKnT60Jp8\",\n  authDomain: \"restroomsignout-bbcaf.firebaseapp.com\",\n  databaseURL: \"https://restroomsignout-bbcaf-default-rtdb.firebaseio.com\",\n  projectId: \"restroomsignout-bbcaf\",\n  storageBucket: \"restroomsignout-bbcaf.appspot.com\",\n  messagingSenderId: \"120464602127\",\n  appId: \"1:120464602127:web:721a35455fd0c431fbdf7a\",\n  measurementId: \"G-JTHT4M7KE0\",\n};\n\ninitializeApp(firebaseConfig);\n\nconst auth = getAuth();\n\n//  Listen for authentication state to change.\nonAuthStateChanged(auth, (user) => {\n  if (user != null) {\n    console.log(\"We are authenticated now!\");\n  }\n\n  //  Do other things\n});\n\nfunction storeHighScore(userId, score) {\n  const db = getDatabase();\n  const reference = ref(db, \"users/\" + userId);\n  set(reference, {\n    highscore: score,\n  });\n}\n\n\nconst storeData = async (value) => {\n  try {\n    await AsyncStorage.setItem('test', value)\n  } catch (e) {\n    // saving error\n  }\n}\n\nstoreData(\"TESTING\")\nconsole.log(\"TESTING completed\")\n\n\n\nexport default function LoginView({ navigation }) {\n  const [text, onChangeText] = React.useState();\n  // const image = {\n  //   uri: \"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSo80gWv-JmvV4MD-1DMuRA6ObgD04iinS_Jg&usqp=CAU\",\n  // };\n  global.windowWidth = Dimensions.get(\"window\").width;\n  global.windowHeight = Dimensions.get(\"window\").height;\n\n  if (Platform.OS == \"ios\" || Platform.OS == \"android\"); {\n    console.log(\"IPHONE\")\n    global.img_style = styles.image2\n    global.source = require(\"../phone_login.png\")\n  }\n\n  if (Platform.OS == \"web\") {\n    global.img_style = styles.image;\n    global.source = require(\"../back.png\");\n  }\n  \n  const [number, onChangeNumber] = React.useState(null);\n  const [errorLabel, onChangeWrong] = React.useState(null);\n  const [img_source, setImgSource] = React.useState(global.source)\n  \n  \n  let [fontsLoaded] = useFonts({\n    SignPainter: require(\"../assets/fonts/SignPainterHouseScript.ttf\"),\n  });\n\n  function LoginPage(email2, password2) {\n    console.log(email2, password2, \"Email and Password\");\n    if (Platform.OS == \"web\") {\n     email2 = \"javangulasa@bentonvillek12.org\" \n     password2 = \"Sanjay@123\"\n    }\n    const db = getDatabase();\n    if (email2 != null && password2 != null) {\n      const auth = getAuth();\n      signInWithEmailAndPassword(auth, email2, password2)\n        .then(() => {\n          onChangeWrong(\"\");\n\n          const starCountRef = ref(db, \"Users_Login\");\n          onValue(starCountRef, (snapshot) => {\n            const data = snapshot.val();\n            for (const i in data) {\n              if (email2 == data[i][\"email\"]) {\n                global.user_email = data[i][\"email\"]; // global variable\n\n                console.log(\"The student's email: \", data[i][\"email\"]);\n\n                global.user_grade = data[i][\"Grade\"];\n                console.log(\"The student's grade: \", data[i][\"Grade\"]);\n\n                global.user_password = data[i][\"Password\"];\n                console.log(\"The student's password: \", data[i][\"Password\"]);\n\n                global.user_name = data[i][\"name\"];\n                console.log(\"The student's name: \", data[i][\"name\"]);\n\n                global.is_new_user = data[i][\"new_user\"];\n                console.log(\"If the user is a new user: \", data[i][\"new_user\"]);\n\n                if (global.user_grade == \"Teacher\") { \n\n                  global.room_no = data[i][\"room_no\"];\n\n                }\n\n              }\n            }\n          });\n\n          // for (const d in i)\n          // {\n\n          // }\n\n          console.log(\"User account created & signed in!\");\n\n          navigation.replace(\"HomeScreen\");\n        })\n        .catch((error) => {\n          onChangeWrong(error);\n          // err = error.message;\n          console.error(error);\n        });\n    } else {\n      onChangeWrong(\"Please fill in the fields and try again.\");\n      console.log(\"Please fill in the fields and try again\");\n    }\n  }\n\n  return (\n    <ImageBackground\n      source={global.source}\n      resizeMode=\"cover\"\n      style={(global.img_style)}\n    >\n      <View style={styles.overlay}>\n        <Text style={styles.paragraph}>Swiftoff</Text>\n\n        <TextInput\n          style={styles.input}\n          onChangeText={onChangeText}\n          placeholder=\"Email:\"\n        />\n\n        <TextInput\n          style={styles.input}\n          onChangeText={onChangeNumber}\n          placeholder=\"Password:\"\n          secureTextEntry={true}\n          autoComplete=\"true\"\n        />\n\n        <View style={styles.fixToText}>\n          <TouchableOpacity\n            title=\"Log In\"\n            color=\"purple\"\n            onPress={() => LoginPage(text, number)}\n            style={styles.roundButton1}\n          >\n            <Text style={styles.roundButton13}>Log In</Text>\n          </TouchableOpacity>\n        </View>\n\n        <View style={styles.fixToText}>\n          <TouchableOpacity\n            title=\"Log In\"\n            color=\"blue\"\n            onPress={() => navigation.navigate(\"Signup\")}\n            style={styles.roundButton2}\n          >\n            <Text style={styles.roundButton14}>Create an Account</Text>\n          </TouchableOpacity>\n\n          <TextInput\n            style={styles.input2}\n            onChangeText={onChangeWrong}\n            defaultValue={errorLabel}\n            editable={false}\n            selectTextOnFocus={false}\n          />\n        </View>\n      </View>\n    </ImageBackground>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    justifyContent: \"center\",\n\n    backgroundColor: \"white\",\n  },\n\n  container2: {\n    flex: 1,\n    zIndex: 1,\n    justifyContent: \"center\",\n\n    backgroundColor: \"white\",\n    padding: 0,\n  },\n\n  paragraph: {\n    margin: 20,\n    fontSize: 70,\n    fontWeight: \"bold\",\n    textAlign: \"center\",\n    // SignPainter- HouseScript\n  },\n  input: {\n    ...Platform.select({\n      ios: {\n        height: 40,\n    margin: 12,\n    borderWidth: 1,\n    borderWidth: 1,\n    borderRadius: 15,\n    padding: 10,\n    width: 350,\n\n    alignSelf: \"center\",\n      },\n      android: {\n        height: 40,\n    margin: 12,\n    borderWidth: 1,\n    borderWidth: 1,\n    borderRadius: 15,\n    padding: 10,\n    width: 350,\n      },\n      default: {\n        height: 40,\n    margin: 12,\n    borderWidth: 1,\n    borderWidth: 1,\n    borderRadius: 15,\n    padding: 10,\n    width: 400,\n\n    alignSelf: \"center\",\n      }\n    })\n  },\n\n  fixToText: {\n    alignSelf: \"center\",\n    width: 200,\n    borderRadius: 15,\n    paddingTop: 20,\n  },\n\n  roundButton1: {\n    width: 200,\n    height: 48,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    padding: 10,\n    borderRadius: 25,\n\n    backgroundColor: \"rgb(53,66,99)\",\n  },\n\n  roundButton2: {\n    width: 200,\n    height: 50,\n    paddingTop: 0,\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    padding: 0,\n    borderRadius: 25,\n\n    backgroundColor: \"rgb(239,139,118)\",\n  },\n  // SignPainter- HouseScript 98.0\n  roundButton13: {\n    fontSize: 20,\n    color: \"white\",\n  },\n  roundButton14: {\n    fontSize: 20,\n    color: \"white\",\n  },\n  input2: {\n    height: 40,\n    margin: 12,\n    borderWidth: 0,\n    borderWidth: 0,\n    borderRadius: 15,\n    padding: 10,\n    width: 400,\n    fontSize: 16,\n    textAlign: \"center\",\n    color: \"red\",\n\n    alignSelf: \"center\",\n  },\n  image2: {\n    width: global.windowWidth,\n    height: global.windowHeight,\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    flex: 1,\n    justifyContent: \"center\",\n  },\n  image: {\n    flex: 1,\n    justifyContent: \"center\",\n  },\n\n  overlay: {\n    justifyContent: \"center\",\n    alignItems: \"center\",\n    alignSelf: \"center\",\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n\n    opacity: 1,\n    padding: \"10\",\n  },\n});\n"]},"metadata":{},"sourceType":"module"}